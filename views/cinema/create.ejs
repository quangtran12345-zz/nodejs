<% layout('../layout') -%>

<header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner" ng-controller="CreateController">
    <div class="container-fluid">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
                <img id="brand-img" width="66px;" src="/images/movie-icon.png" />
                <span class="brand">My<strong>Cinema</strong>
                </span>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">            
            <ul class="nav navbar-nav navbar-right">
                    <li ng-show="user._id" ng-cloak>
                            <a href="/user/{{user._id}}">
                                <i class="fa fa-user" aria-hidden="true"></i> {{user.username}}</a>
                        </li>
                <li ng-show="user._id" ng-cloak>
                    <a href="/create">
                        <i class="fa fa-user-plus"></i> Tạo phim</a>
                </li>
                <li ng-show="!user._id" ng-cloak>
                    <a href="/register">
                        <i class="fa fa-user-plus"></i> Đăng ký</a>
                </li>                   
                <li ng-show="user._id" ng-cloak>
                        <a href="" ng-click="signout()">
                            <i class="fa fa-sign-out"></i> Đăng xuất</a>
                    </li>
                <li ng-show="!user._id" ng-cloak>
                    <a href="/login">
                        <i class="fa fa-sign-in"></i> Đăng nhập</a>
                </li>

            </ul>
        </nav>
    </div>
</header>
  <div class="parent" ng-controller="CreateController">
    <div class="container">
      <div id="content">
        <input id="inputFile" type="file" accept="image/x-png,image/jpeg">
        <button id="btnAddImage" class="create-form-button btn btn-primary" ng-click="addImage()">
          <i class="fa fa-upload" aria-hidden="true"></i> Thêm hình</button>
        <button id="btnCreate" type="submit" class="create-form-button btn btn-primary" ng-click="createMovie()">Tạo phim</button>
        <img id="movie-image" src="/images/movie-image.jpg">
      </div>
      <form name="createForm" ng-validate="validationOptions">
        <div id="movie-form" class="col-md-10 col-md-offset-1">
          <h1 id="label" class="text-center">Tạo Phim Mới</h1>
          <div class="form-group">
            <label for="movieName">Tên Bộ Phim</label>
            <input name="movieName" ng-model="movieName" type="text" class="form-control" id="movieName" placeholder="Tên bộ phim" required>
          </div>
          <div class="form-group">
            <label for="exampleSelect2">Thể loại phim:</label>
            <select name="movieType" class="required form-control" id="movieType" ng-model="movieType">
              <option value="" selected="">Thể loại phim</option>
              <option ng-repeat="type in movieTypes">{{type}}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="date">Thời gian phát hành</label>
            <input type="text" class="form-control" id="datepicker">
          </div>
          <div class="form-group">
            <label for="exampleTextarea">Nội dung mô tả</label>
            <textarea name="description" ng-model="description" class="form-control" id="exampleTextarea" placeholder="Điền thông tin thêm về bộ phim, như diễn viên chính, nội dung bộ phim,..."
              rows="5"></textarea>
          </div>
        </div>
      </form>

    </div>
  </div>
  </div>
  <script src="/javascripts/shared/angular-validate.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
  <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>  
  <script src="/javascripts/cinema/create.js"></script>
  <script>
    $(function () {
      $('#datepicker').datetimepicker({
        format: 'DD/MM/YYYY',
        defaultDate: new Date()
      });
    });
  </script>